# Base image with Python and necessary dependencies
FROM python:3.9-slim

# Set the working directory inside the container
WORKDIR .

# Clone the pyinstxtractor repository
RUN git clone https://github.com/extremecoders-re/pyinstxtractor.git

# Clone the decompilation tools
RUN git clone https://github.com/rocky/python-uncompyle6.git
RUN git clone https://github.com/rocky/python-decompile3.git
RUN git clone https://github.com/zrax/pycdc.git

# Install required Python packages
RUN pip install lief

# Copy the Python script that will handle the extraction and decompilation
COPY script.py .

# Set the entry point for running the Python script
ENTRYPOINT ["python", "main.py"]
